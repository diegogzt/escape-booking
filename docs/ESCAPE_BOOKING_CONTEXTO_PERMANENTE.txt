ESCAPE_BOOKING_CONTEXTO_PERMANENTE.txt

==========================================================================
üöÄ CONTEXTO PERMANENTE PARA AGENTE DE IA - ESCAPE BOOKING
==========================================================================

[‚ö†Ô∏è IMPORTANTE: Este archivo debe actualizarse CONSTANTEMENTE con cada cambio o progreso del proyecto. Si trabajas con un nuevo agente de IA, este archivo es tu memoria completa del proyecto]

==========================================================================
üìù INFORMACI√ìN DEL DESARROLLADOR
==========================================================================

Nombre: Diego
Rol: Desarrollador Full-Stack Principal
Ubicaci√≥n: macOS (Mac M4)
Shell: zsh
Tiempo disponible: 35 horas/semana
Experiencia: React, Next.js, TypeScript, PostgreSQL, APIs

==========================================================================
üéØ PROYECTO: ESCAPE BOOKING
==========================================================================

DESCRIPCI√ìN DEL PROYECTO:
Sistema de reservas integral para Escape Rooms con inteligencia artificial integrada. Una plataforma SaaS multi-tenant que permite a propietarios de escape rooms gestionar reservas, clientes, pagos y operaciones diarias.

OBJETIVO PRINCIPAL:
Crear la alternativa m√°s competitiva a "Escape Room Director" con:
- 90% menos costo ($29/mes vs $299/mes)
- Funcionalidades superiores (IA, widget embebible, API completa)
- Desarrollo 100% propio para eliminar costos externos ($0 en desarrollo)

MERCADO OBJETIVO:
- Propietarios de Escape Rooms en Espa√±a y Latinoam√©rica
- Empresas de entretenimiento que buscan digitalizar sus reservas
- Franquicias de escape rooms que necesiten gesti√≥n centralizada

==========================================================================
üèóÔ∏è ARQUITECTURA T√âCNICA DEFINITIVA
==========================================================================

STACK TECNOL√ìGICO:
- Frontend: Next.js 14 + TypeScript
- UI Framework: Tailwind CSS + Shadcn/ui
- Backend: Supabase (PostgreSQL + Auth + Storage)
- Hosting: Vercel (plan gratuito inicialmente)
- Pagos: Stripe
- IA: OpenAI API (GPT-4) + Anthropic Claude
- Emails: Resend
- Analytics: Vercel Analytics

ARQUITECTURA:
- Multi-tenant SaaS
- Widget embebible para sitios web
- API REST completa
- PWA (Progressive Web App)
- Responsive design (mobile-first)
- Multi-idioma (ES/EN inicial)

==========================================================================
üìã FUNCIONALIDADES CORE CONFIRMADAS
==========================================================================

M√ìDULO DE AUTENTICACI√ìN:
- Login/registro con email + redes sociales
- Roles: Admin, Manager, Staff, Customer
- Multi-tenant por escape room/empresa

M√ìDULO DE RESERVAS:
- Calendario visual interactivo
- Gesti√≥n de horarios y disponibilidad
- Reservas grupales e individuales
- Sistema de confirmaci√≥n autom√°tica
- Recordatorios por email/SMS

M√ìDULO DE IA (DIFERENCIADOR CLAVE):
- Asignaci√≥n inteligente de Game Masters
- Chatbot para atenci√≥n al cliente 24/7
- An√°lisis predictivo de demanda
- Recomendaciones personalizadas
- Optimizaci√≥n autom√°tica de horarios

M√ìDULO DE PAGOS:
- Integraci√≥n con Stripe
- Pagos online seguros
- Gesti√≥n de reembolsos
- Facturaci√≥n autom√°tica
- Reportes financieros

M√ìDULO ADMIN/DASHBOARD:
- Panel de control en tiempo real
- Analytics y m√©tricas avanzadas
- Gesti√≥n de clientes y reservas
- Configuraci√≥n de escape rooms
- Reportes personalizables

WIDGET EMBEBIBLE:
- Calendario de reservas para sitios web
- Completamente customizable
- Responsive design
- F√°cil integraci√≥n (1 l√≠nea de c√≥digo)

==========================================================================
üí∞ MODELO DE NEGOCIO Y PRECIOS
==========================================================================

COMPETENCIA PRINCIPAL: Escape Room Director
- Su precio: $204-524/mes
- Nuestro precio: $0-49/mes
- Nuestra ventaja: 90% m√°s barato + funcionalidades superiores

PLANES DE PRECIOS:
1. GRATUITO ($0/mes):
   - Hasta 100 reservas/mes
   - 1 ubicaci√≥n
   - Dashboard b√°sico
   - Widget embebible

2. PROFESIONAL ($29/mes):
   - Reservas ilimitadas
   - Hasta 10 ubicaciones
   - IA completa integrada
   - API acceso
   - Soporte prioritario

3. ENTERPRISE ($49/mes):
   - Todo ilimitado
   - IA avanzada
   - Integraciones custom
   - Soporte 24/7
   - Onboarding personalizado

COSTOS OPERATIVOS M√ÅXIMOS:
- Infraestructura: $0-50/mes
- Desarrollo: $0 (Diego lo hace todo)
- Margen de ganancia: 95%+

==========================================================================
üìÖ CRONOGRAMA DE DESARROLLO (16 SEMANAS)
==========================================================================

FASE 1 - FUNDACI√ìN (Semanas 1-4):
- Configuraci√≥n del proyecto Next.js 14
- Integraci√≥n con Supabase
- Sistema de autenticaci√≥n completo
- Arquitectura base de la base de datos

FASE 2 - RESERVAS CORE (Semanas 5-7):
- Sistema de reservas b√°sico
- Calendario interactivo
- Integraci√≥n con Stripe
- Panel de administraci√≥n b√°sico

FASE 3 - IA E INTELIGENCIA (Semanas 8-10):
- Integraci√≥n con OpenAI/Anthropic
- Chatbot inteligente
- Sistema de recomendaciones
- Asignaci√≥n autom√°tica de Game Masters

FASE 4 - FUNCIONALIDADES AVANZADAS (Semanas 11-12):
- Panel multi-tenant completo
- Sistema de reportes avanzados
- API REST documentada
- Optimizaciones de rendimiento

FASE 5 - WIDGET E INTEGRACI√ìN (Semanas 13-14):
- Widget embebible
- Personalizaci√≥n completa
- Testing en sitios web reales
- Documentaci√≥n de integraci√≥n

FASE 6 - LAUNCH Y OPTIMIZACI√ìN (Semanas 15-16):
- Testing completo
- Optimizaci√≥n SEO
- Preparaci√≥n para producci√≥n
- Marketing inicial

==========================================================================
üìÇ ESTRUCTURA DE ARCHIVOS DEL PROYECTO
==========================================================================

DOCUMENTACI√ìN CREADA:
‚úÖ DOCUMENTACION_SISTEMA_ESCAPE_ROOMS.md - Especificaciones t√©cnicas completas
‚úÖ CRONOGRAMA_DESARROLLO.md - Timeline detallado de 16 semanas
‚úÖ ARQUITECTURA_COMPLETA.md - Estructura completa del sistema
‚úÖ PRESUPUESTO_DETALLADO.md - An√°lisis competitivo vs Escape Room Director
‚úÖ ESCAPE_BOOKING_CONTEXTO_PERMANENTE.txt - Este archivo (contexto para IA)

PR√ìXIMO PASO: Iniciar desarrollo del proyecto

==========================================================================
üé® IDENTIDAD VISUAL Y BRANDING
==========================================================================

NOMBRE: Escape Booking
COLORES PRINCIPALES:
- Negro (#000000) - Elegancia y misterio
- Rojo (#DC2626) - Energ√≠a y urgencia
- Blanco (#FFFFFF) - Limpieza y claridad

TIPOGRAF√çA: Inter (clean, professional)
ESTILO: Minimalista, profesional, tech-forward

==========================================================================
‚ö° ESTADO ACTUAL DEL PROYECTO
==========================================================================

√öLTIMA ACTUALIZACI√ìN: 28 de julio de 2025
FASE ACTUAL: Supabase configurado - listo para ejecutar migraciones ‚úÖ
SIGUIENTE HITO: Ejecutar SQL en Supabase dashboard y construir auth

PROGRESO GENERAL:
- [‚úÖ] Documentaci√≥n t√©cnica completa
- [‚úÖ] Cronograma de desarrollo establecido
- [‚úÖ] Arquitectura del sistema definida
- [‚úÖ] An√°lisis competitivo completado
- [‚úÖ] Repositorio GitHub creado (diegogzt/escape-booking)
- [‚úÖ] Proyecto Next.js 14 inicializado
- [‚úÖ] Stack completo de librer√≠as instalado y configurado
- [‚úÖ] Supabase proyecto creado y configurado
- [‚úÖ] Esquema de base de datos completo dise√±ado
- [‚úÖ] RLS policies y funciones helper creadas
- [üîÑ] Pr√≥ximo: Ejecutar migraciones SQL y desarrollar autenticaci√≥n

STACK T√âCNICO CONFIGURADO:
‚úÖ Next.js 15.4.4 con App Router
‚úÖ TypeScript completo con tipos de base de datos
‚úÖ Tailwind CSS + Shadcn/ui (8 componentes base)
‚úÖ Supabase configurado (cliente/servidor/middleware/servicio)
‚úÖ Stripe (@stripe/stripe-js + stripe)
‚úÖ OpenAI API (openai v5.10.2)
‚úÖ Resend para emails
‚úÖ Prettier + plugin Tailwind configurado
‚úÖ Variables de entorno con credenciales reales de Supabase

SUPABASE CONFIGURACI√ìN:
‚úÖ Proyecto: vacokylwmswklrlsjynq.supabase.co
‚úÖ Variables de entorno configuradas
‚úÖ Archivos cliente/servidor creados
‚úÖ Tipos TypeScript completos
‚úÖ Servicio con m√©todos CRUD
‚úÖ Esquema SQL completo (8 tablas principales)
‚úÖ RLS policies para multi-tenant
‚úÖ Funciones helper para disponibilidad y precios
‚úÖ Vistas para analytics
‚úÖ Indexes para performance

CONFIGURACI√ìN SUPABASE COMPLETADA:
‚úÖ Cliente server (src/lib/supabase/server.ts)
‚úÖ Cliente browser (src/lib/supabase/client.ts)
‚úÖ Middleware de autenticaci√≥n (middleware.ts)
‚úÖ Schema de base de datos (3 archivos de migraci√≥n)
‚úÖ Tipos TypeScript completos (src/lib/supabase/types.ts)
‚úÖ Servicio helper con CRUD (src/lib/supabase/service.ts)
‚úÖ Documentaci√≥n de setup (docs/SUPABASE_SETUP.md)

DECISIONES T√âCNICAS TOMADAS:
- Next.js 14 con App Router
- Supabase como BaaS
- Tailwind + Shadcn/ui para UI
- TypeScript en todo el proyecto
- Vercel para hosting

==========================================================================
üí° INSTRUCCIONES PARA EL AGENTE DE IA
==========================================================================

COMO TRABAJAR CON DIEGO:
1. Siempre consultar este archivo PRIMERO para entender el contexto completo
2. ACTUALIZAR este archivo despu√©s de cada sesi√≥n significativa
3. Seguir las especificaciones t√©cnicas de los archivos .md
4. Priorizar funcionalidades que nos diferencien de la competencia
5. Mantener el enfoque en costos ultra-bajos y alta funcionalidad
6. Preguntar antes de tomar decisiones arquitect√≥nicas importantes
7. Documentar todos los cambios importantes

REGLAS DE DESARROLLO:
- C√≥digo limpio y bien documentado
- TypeScript en todo momento
- Responsive design obligatorio
- Optimizaci√≥n de rendimiento constante
- Seguridad como prioridad
- Testing de funcionalidades cr√≠ticas

COMUNICACI√ìN:
- Diego prefiere explicaciones t√©cnicas detalladas
- Mostrar ejemplos de c√≥digo cuando sea relevante
- Sugerir mejoras y alternativas
- Ser proactivo en la identificaci√≥n de problemas

==========================================================================
üîÑ HISTORIAL DE CAMBIOS
==========================================================================

28/07/2025:
- Creaci√≥n del archivo de contexto permanente
- Documentaci√≥n completa del proyecto finalizada
- An√°lisis competitivo vs Escape Room Director completado
- Definici√≥n final del stack tecnol√≥gico
- Establecimiento del cronograma de 16 semanas
- ‚úÖ Repositorio GitHub creado: diegogzt/escape-booking
- ‚úÖ Proyecto Next.js 14 inicializado con TypeScript + Tailwind
- ‚úÖ Estructura de proyecto organizada (docs/ para documentaci√≥n)
- ‚úÖ Primer push al repositorio completado
- ‚úÖ Stack completo de librer√≠as instalado:
  * Supabase SSR para auth y DB
  * Stripe para pagos
  * OpenAI para IA
  * Resend para emails
  * Shadcn/ui componentes (button, input, card, calendar, etc.)
  * Prettier configurado
- ‚úÖ Variables de entorno preparadas (.env.local + .env.example)
- ‚úÖ Supabase proyecto configurado completamente:
  * Credenciales reales en .env.local
  * Cliente/servidor/middleware configurados
  * Tipos TypeScript completos para todas las tablas
  * Servicio con m√©todos CRUD para todas las entidades
  * Esquema SQL completo: 8 tablas + views + functions
  * RLS policies para seguridad multi-tenant
  * Complete_setup.sql listo para ejecutar en dashboard
- ‚úÖ Configuraci√≥n completa de Supabase:
  * Cliente server/browser configurado
  * Middleware de autenticaci√≥n
  * Schema de base de datos completo (9 tablas)
  * Pol√≠ticas RLS implementadas
  * Funciones SQL para l√≥gica de negocio
  * Tipos TypeScript generados
  * Servicio helper con m√©todos CRUD
  * Documentaci√≥n de setup detallada

[NOTA: Continuar actualizando este historial con cada cambio significativo]

==========================================================================
üö® RECORDATORIOS CR√çTICOS
==========================================================================

1. Este archivo DEBE actualizarse constantemente
2. Cualquier cambio en arquitectura debe reflejarse aqu√≠
3. Mantener la ventaja competitiva vs Escape Room Director
4. $0 en costos de desarrollo = ventaja clave
5. IA integrada = diferenciador principal
6. Widget embebible = generador de leads √∫nico
7. Documentar TODOS los cambios importantes

==========================================================================
FIN DEL CONTEXTO PERMANENTE
==========================================================================
